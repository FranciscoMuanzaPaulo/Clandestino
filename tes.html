<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Acomodação</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  	<!-- Favicon -->
	<link rel="shortcut icon" href="assets/images/favicon.ico">

	<!-- Google Font -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap">

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
		<link rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.0.9/css/glightbox.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/choices.js/10.2.0/styles/css/choices.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.0.9/js/glightbox.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

	
		<!-- NOSSO CSS -->
		<link rel="stylesheet" type="text/css" href="assets/css/style.css">

  <style>
     .invalid-feedback {
    display: none;
  }
  .is-invalid + .invalid-feedback {
    display: block;
  }
  

  </style>
 
</head>
<body>

  <div class="container mt-5">
    <h1 class="text-center mb-4">Cadastro de Acomodação</h1>
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <img src="../assets/images/element/signin.svg" class="card-img-top" alt="Imagem da Acomodação">
        </div>
      </div>
      <div class="col-md-6">
        <form id="acomodacaoForm" onsubmit="return validarFormulario()">
          <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" class="form-control" id="nome" required>
            <div class="invalid-feedback">Por favor, insira um nome válido.</div>
          </div>

          <div class="form-row">
            <div class="form-group col-md-6">
                <label for="latitude">Latitude:</label>
                <input type="number" class="form-control" id="latitude" step="any" min="-90" max="90" required>
                <div class="invalid-feedback">Por favor, insira uma latitude válida.</div>
            </div>
            <div class="form-group col-md-6">
                <label for="longitude">Longitude:</label>
                <input type="number" class="form-control" id="longitude" step="any" min="-180" max="180" required>
                <div class="invalid-feedback">Por favor, insira uma longitude válida.</div>
            </div>
        </div>

          <div class="form-group">
            <label for="tipoAcomodacao">Tipo de Acomodação:</label>
            <select id="tipoAcomodacao" class="form-control" required>
              <option value="hotel">Hotel</option>
              <option value="pousada">Hospedaria</option>
            </select>
          </div>

          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" class="form-control" id="email" required>
            <div class="invalid-feedback">Por favor, insira um email válido.</div>
          </div>

          <div class="form-group">
            <label for="descricao">Descrição:</label>
            <textarea class="form-control" id="descricao" rows="4" required></textarea>
            <div class="invalid-feedback">Por favor, insira uma descrição válida.</div>
          </div>

          <div class="form-group">
            <label for="municipio">Município:</label>
            <select id="municipio" class="form-control" required>
              <option value="">Selecione um município</option>
              <option value="kilamba-kiassi">Kilamba Kiaxi</option>
              <option value="cazenga">Cazenga</option>
              <option value="talatona">Talatona</option>
              <option value="viana">Viana</option>
              <option value="samba">Samba</option>
              <option value="rangel">Rangel</option>
              <option value="maianga">Maianga</option>
              <option value="sambizanga">Sambizanga</option>
              <option value="kamama">Kamama</option>
              <option value="kisama">Kisama</option>
            </select>
            <div class="invalid-feedback">Por favor, selecione um município válido.</div>
          </div>

          <div class="form-group">
            <label for="foto">Foto:</label>
            <input type="file" class="form-control-file" id="foto" accept="image/*" required>
            <div class="invalid-feedback">Por favor, selecione uma foto.</div>
          </div>

          <button type="submit" class="btn btn-primary" onclick="mostrarModal(event) ">Cadastrar</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Sucesso</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Acomodação Cadastrado com sucesso!
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="redirectButton">OK</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function validarFormulario() {
      let formValido = true;

      // Validação do nome
      const nome = document.getElementById('nome');
      if (!nome.value.trim()) {
        nome.classList.add('is-invalid');
        formValido = false;
      } else {
        nome.classList.remove('is-invalid');
      }

      // Validação da latitude
      const latitude = document.getElementById('latitude');
      if (!validarLatitude(latitude.value)) {
        latitude.classList.add('is-invalid');
        formValido = false;
      } else {
        latitude.classList.remove('is-invalid');
      }

      // Validação da longitude
      const longitude = document.getElementById('longitude');
      if (!validarLongitude(longitude.value)) {
        longitude.classList.add('is-invalid');
        formValido = false;
      } else {
        longitude.classList.remove('is-invalid');
      }

      // Validação do email
      const email = document.getElementById('email');
      if (!validarEmail(email.value)) {
        email.classList.add('is-invalid');
        formValido = false;
      } else {
        email.classList.remove('is-invalid');
      }

      // Validação do tipo de acomodação
      const tipoAcomodacao = document.getElementById('tipoAcomodacao');
      if (!tipoAcomodacao.value) {
        tipoAcomodacao.classList.add('is-invalid');
        formValido = false;
      } else {
        tipoAcomodacao.classList.remove('is-invalid');
      }

      // Validação da descrição
      const descricao = document.getElementById('descricao');
      if (!descricao.value.trim()) {
        descricao.classList.add('is-invalid');
        formValido = false;
      } else {
        descricao.classList.remove('is-invalid');
      }

      // Validação do município
      const municipio = document.getElementById('municipio');
      if (!municipio.value.trim()) {
        municipio.classList.add('is-invalid');
        formValido = false;
      } else {
        municipio.classList.remove('is-invalid');
      }

      // Validação da foto
      const foto = document.getElementById('foto');
      if (!foto.value) {
        foto.classList.add('is-invalid');
        formValido = false;
      } else {
        foto.classList.remove('is-invalid');
      }

      return formValido;
    }

    function validarLatitude(latitude) {
      const regex = /^-?([1-8]?[1-9]|[1-9]0)\.{1}\d{1,6}$/;
      return regex.test(latitude);
    }

    function validarLongitude(longitude) {
      const regex = /^-?([1-9]?[1-9]|[1-9]0)\.{1}\d{1,6}$/;
      return regex.test(longitude);
    }

    function validarEmail(email) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(email);
    }

    function mostrarModal(event) {
      event.preventDefault();
      if (validarFormulario()) {
        $('#successModal').modal('show');
      }
    }

    document.getElementById('redirectButton').addEventListener('click', function() {
      $('#successModal').modal('hide');
      setTimeout(function() {
        window.location.href = 'admin-dashboard.html';
      }, 300);
    });
  </script>

  <script>
    function validarFormulario() {
      let formValido = true;

      // Validação do nome
      const nome = document.getElementById('nome');
      if (!nome.value.trim()) {
        nome.classList.add('is-invalid');
        formValido = false;
      } else {
        nome.classList.remove('is-invalid');
      }

      // Validação da latitude
      const latitude = document.getElementById('latitude');
      if (!validarLatitude(latitude.value)) {
        latitude.classList.add('is-invalid');
        formValido = false;
      } else {
        latitude.classList.remove('is-invalid');
      }

      // Validação da longitude
      const longitude = document.getElementById('longitude');
      if (!validarLongitude(longitude.value)) {
        longitude.classList.add('is-invalid');
        formValido = false;
      } else {
        longitude.classList.remove('is-invalid');
      }

      // Validação do email
      const email = document.getElementById('email');
      if (!validarEmail(email.value)) {
        email.classList.add('is-invalid');
        formValido = false;
      } else {
        email.classList.remove('is-invalid');
      }

      // Validação do tipo de acomodação
      const tipoAcomodacao = document.getElementById('tipoAcomodacao');
      if (!tipoAcomodacao.value) {
        tipoAcomodacao.classList.add('is-invalid');
        formValido = false;
      } else {
        tipoAcomodacao.classList.remove('is-invalid');
      }

      // Validação da descrição
      const descricao = document.getElementById('descricao');
      if (!descricao.value.trim()) {
        descricao.classList.add('is-invalid');
        formValido = false;
      } else {
        descricao.classList.remove('is-invalid');
      }

      // Validação do município
      const municipio = document.getElementById('municipio');
      if (!municipio.value.trim()) {
        municipio.classList.add('is-invalid');
        formValido = false;
      } else {
        municipio.classList.remove('is-invalid');
      }

      // Validação da foto
      const foto = document.getElementById('foto');
      if (!foto.value) {
        foto.classList.add('is-invalid');
        formValido = false;
      } else {
        foto.classList.remove('is-invalid');
      }

      return formValido;
    }

    function validarLatitude(latitude) {
      const regex = /^-?([1-8]?[1-9]|[1-9]0)\.{1}\d{1,6}$/;
      return regex.test(latitude);
    }

    function validarLongitude(longitude) {
      const regex = /^-?([1-9]?[1-9]|[1-9]0)\.{1}\d{1,6}$/;
      return regex.test(longitude);
    }

    function validarEmail(email) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(email);
    }
  </script>
    

      <script>
        function validarFormulario() {
          var formulario = document.getElementById('acomodacaoForm');
          if (formulario.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
            formulario.classList.add('was-validated');
            return false;
          }
          return true;
        }
      </script> 


  <script src="assets/api/script.js"></script>
  <script src="assets/api/v.js"></script>
  <script src="https://code.jq  uery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>



    