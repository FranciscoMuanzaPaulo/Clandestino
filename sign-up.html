
<!DOCTYPE html>
<html lang="en">
<head>
	<title>Clandestino69 - Sistema de Reservas Online</title>
	<style>
		.error-message {
            color: red;
            margin-top: 5px;
            font-size: 0.875em;
        }
	</style>
	<!-- Meta Tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="Webestica.com">
	<meta name="description" content="Clandestino69 - Sistema de Reservas Online">

	<!-- Dark mode -->
	<script>
		const storedTheme = localStorage.getItem('theme')
		const getPreferredTheme = () => {
			if (storedTheme) {
				return storedTheme
			}
			return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'light' : 'dark'
		}
		const setTheme = function (theme) {
			if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
				document.documentElement.setAttribute('data-bs-theme', 'dark')
			} else {
				document.documentElement.setAttribute('data-bs-theme', theme)
			}
		}
		setTheme(getPreferredTheme())
		window.addEventListener('DOMContentLoaded', () => {
		    var el = document.querySelector('.theme-icon-active');
			if(el != 'undefined' && el != null) {
				const showActiveTheme = theme => {
				const activeThemeIcon = document.querySelector('.theme-icon-active use')
				const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
				const svgOfActiveBtn = btnToActive.querySelector('.mode-switch use').getAttribute('href')

				document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
					element.classList.remove('active')
				})

				btnToActive.classList.add('active')
				activeThemeIcon.setAttribute('href', svgOfActiveBtn)
			}

			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
				if (storedTheme !== 'light' || storedTheme !== 'dark') {
					setTheme(getPreferredTheme())
				}
			})

			showActiveTheme(getPreferredTheme())

			document.querySelectorAll('[data-bs-theme-value]')
				.forEach(toggle => {
					toggle.addEventListener('click', () => {
						const theme = toggle.getAttribute('data-bs-theme-value')
						localStorage.setItem('theme', theme)
						setTheme(theme)
						showActiveTheme(theme)
					})
				})

			}
		})
		




	</script>

	<!-- Favicon -->
	<link rel="shortcut icon" href="assets/images/favicon.ico">

	<!-- Google Font -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap">
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.0.9/css/glightbox.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/choices.js/10.2.0/styles/css/choices.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.0.9/js/glightbox.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
	
	<!-- Theme CSS -->
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>

<body>

<!-- **************** MAIN CONTENT START **************** -->
<main>
	
<!-- =======================
Main Content START -->
<section class="vh-xxl-100">
	<div class="container h-100 d-flex px-0 px-sm-4">
		<div class="row justify-content-center align-items-center m-auto">
			<div class="col-12">
				<div class="bg-mode shadow rounded-3 overflow-hidden">
					<div class="row g-0">
						<!-- Vector Image -->
						<div class="col-lg-6 d-md-flex align-items-center order-2 order-lg-1">
							<div class="p-3 p-lg-5">
								<img src="assets/images/element/signin.svg" alt="">
							</div>
							<!-- Divider -->
							<div class="vr opacity-1 d-none d-lg-block"></div>
						</div>
		
						<!-- Information -->
						<div class="col-lg-6 order-1">
							<div class="p-4 p-sm-6">
								<!-- Logo -->
								<a href="index.html">
									<img class="h-50px mb-4" src="assets/images/logo-l.png" alt="logo">
								</a>
								<!-- Title -->
								<h1 class="mb-2 h3">Criar nova conta</h1>
								<p class="mb-0">Já é membro?<a href="sign-in.html"> Entrar</a></p>
		
								<!-- Form START -->
								<form class="mt-4 text-start" id="userForm">
									<div class="mb-3">
									  <label class="form-label">Nome</label>
									  <input type="text" class="form-control" name="nome">
									</div>
									<div class="mb-3">
									  <label class="form-label">Senha</label>
									  <input type="password" class="form-control" name="senha">
									</div>
									<div class="mb-3">
									  <label class="form-label">Email</label>
									  <input type="email" class="form-control" name="email">
									</div>
									<div class="mb-3">
										<label class="form-label">Telefone</label>
										<input type="tel" class="form-control" name="telefone">
									  </div>

									<div class="mb-3 position-relative">
									  <label class="form-label">Nacionalidade</label>
									  <select name="nacionalidade" class="form-control">
										<option value="Angola">Angola</option>
									  </select>
									</div>
									<div class="mb-3">
									  <label class="form-label">Tipo de Usuário</label>
									  <select name="tipo_usuario" class="form-control">
										<option value="Cliente">Cliente</option>
									  </select>
									</div>
									<div class="mb-3">
									  <input type="checkbox" class="form-check-input" id="rememberCheck" name="keep_signed_in">
									  <label class="form-check-label" for="rememberCheck">Keep me signed in</label>
									</div>
									<div>
									  <button type="submit" class="btn btn-primary w-100 mb-0">Cadastrar</button>
									</div>
								  </form>
								  
								<!-- Form END -->
							</div>		
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Modal -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="successModalLabel">Sucesso</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				Usuário cadastrado com sucesso!
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" id="redirectButton">OK</button>
			</div>
		</div>
	</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.getElementById('userForm').addEventListener('submit', function(event) {
	// Impede o envio do formulário até que a validação esteja concluída
	event.preventDefault();

	// Obter os valores dos campos
	const nome = document.querySelector('input[name="nome"]').value;
	const senha = document.querySelector('input[name="senha"]').value;
	const email = document.querySelector('input[name="email"]').value;
	const telefone = document.querySelector('input[name="telefone"]').value;
	const nacionalidade = document.querySelector('select[name="nacionalidade"]').value;
	const tipo_usuario = document.querySelector('select[name="tipo_usuario"]').value;
	const keep_signed_in = document.querySelector('input[name="keep_signed_in"]').checked;

	// Variável para acompanhar a validade do formulário
	let formIsValid = true;

	// Limpar mensagens de erro anteriores
	document.querySelectorAll('.error-message').forEach(element => element.remove());

	// Função para exibir mensagens de erro
	const showError = (element, message) => {
		const error = document.createElement('div');
		error.className = 'error-message';
		error.style.color = 'red';
		error.textContent = message;
		element.parentElement.appendChild(error);
		formIsValid = false;
	};

	// Validação do nome
	if (nome.trim() === '') {
		showError(document.querySelector('input[name="nome"]'), 'O nome é obrigatório.');
	}

	// Validação da senha
	if (senha.trim() === '') {
		showError(document.querySelector('input[name="senha"]'), 'A senha é obrigatória.');
	} else if (senha.length < 6) {
		showError(document.querySelector('input[name="senha"]'), 'A senha deve ter pelo menos 6 caracteres.');
	}

	// Validação do email
	const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
	if (email.trim() === '') {
		showError(document.querySelector('input[name="email"]'), 'O email é obrigatório.');
	} else if (!emailPattern.test(email)) {
		showError(document.querySelector('input[name="email"]'), 'O email não é válido.');
	}

	// Validação do telefone
	const phonePattern = /^\+?\d{9,15}$/;
	if (telefone.trim() === '') {
		showError(document.querySelector('input[name="telefone"]'), 'O telefone é obrigatório.');
	} else if (!phonePattern.test(telefone)) {
		showError(document.querySelector('input[name="telefone"]'), 'O telefone não é válido.');
	}

	// Validação da nacionalidade
	if (nacionalidade.trim() === '') {
		showError(document.querySelector('select[name="nacionalidade"]'), 'A nacionalidade é obrigatória.');
	}

	// Validação do tipo de usuário
	if (tipo_usuario.trim() === '') {
		showError(document.querySelector('select[name="tipo_usuario"]'), 'O tipo de usuário é obrigatório.');
	}

	// Se o formulário for válido, exibir o modal
	if (formIsValid) {
		const successModal = new bootstrap.Modal(document.getElementById('successModal'));
		successModal.show();

		document.getElementById('redirectButton').addEventListener('click', function() {
			window.location.href = 'index.html';
		});
	}
});
</script>
<!-- =======================
Main Content END -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- Back to top -->
<div class="back-top"></div>

<!-- Bootstrap JS -->
<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- ThemeFunctions -->
<script src="assets/js/valida-usuario.js"></script>
<script src="assets/js/functions.js"></script>
<script src="assets/api/script.js"></script>
</body>
</html>