"use strict";(self["b-property-web-property-page__LOADABLE_LOADED_CHUNKS__"]=self["b-property-web-property-page__LOADABLE_LOADED_CHUNKS__"]||[]).push([["2b8df162"],{"12fc8263":function(e,t,l){t.Z=void 0;var a,n=(a=l("ead71eb0"))&&a.__esModule?a:{default:a};function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},r.apply(this,arguments)}var c=function(e){return n.default.createElement("svg",r({viewBox:"0 0 128 128",width:"1em",height:"1em"},e),n.default.createElement("path",{d:"M24 44a4 4 0 0 1 4-4h28v-8H28a12 12 0 0 0-12 12v24l8-8zm44-8a24 24 0 1 1 24 24 24 24 0 0 1-24-24zm8 3a1 1 0 0 0 1 1h10a1 1 0 0 1 1 1v10a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V41a1 1 0 0 1 1-1h10a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H97a1 1 0 0 1-1-1V21a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v10a1 1 0 0 1-1 1H77a1 1 0 0 0-1 1zm44 65v11.8a4.1 4.1 0 0 1-3.6 4.2 4 4 0 0 1-4.4-4v-4H16v3.8a4.1 4.1 0 0 1-3.6 4.2 4 4 0 0 1-4.4-4v-12a8 8 0 0 1 8-8h96a8 8 0 0 1 8 8zm-8-16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v4h96z"}))};t.Z=c},c280418e:function(e,t,l){t.Z=void 0;var a,n=(a=l("ead71eb0"))&&a.__esModule?a:{default:a};function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},r.apply(this,arguments)}var c=function(e){return n.default.createElement("svg",r({viewBox:"0 0 128 128",width:"1em",height:"1em"},e),n.default.createElement("path",{d:"M116 20a4 4 0 0 0-4 4v8H16v-8a4 4 0 0 0-8 0v80a4 4 0 0 0 8 0V88h96v16a4 4 0 0 0 8 0V24a4 4 0 0 0-4-4zM42 40h18v32H42zm26 32V40h18v32zM16 40h18v32H16zm96 32H94V40h18z"}))};t.Z=c},d13db686:function(e,t){t.Z=e=>{var t;return(null===e||void 0===e||null===(t=e.propertyDetails)||void 0===t?void 0:t.isTpiExclusiveProperty)||!1}},"49b9f1fb":function(e,t,l){l.r(t),l.d(t,{default:function(){return N}});var a=l("ead71eb0"),n=l.n(a),r=l("c44dcb0c"),c=l("dee2534d"),o=l("c280418e"),i=l("12fc8263"),m={policiesTableGroup:"e88206330c",policiesTableHead:"df14f5d170",policiesTableRow:"cbadf7c7a5",headerText:"f149a96297",ages:"ea0c38590d",prices:"b9f601a1f0",freeText:"e279daa74a"};let _=function(e){return e[e.MAX_CHILD_AGE=18]="MAX_CHILD_AGE",e[e.ADULT=255]="ADULT",e}({}),s=function(e){return e.PER_STAY="PER_STAY",e.PER_NIGHT="PER_NIGHT",e}({}),p=function(e){return e.FREE="FREE",e.FIXED="FIXED",e.PERCENTAGE="PERCENTAGE",e}({}),u=function(e){return e.CRIB="CRIB",e.EXTRA_BED="EXTRA_BED",e.EXISTING_BED="EXISTING_BED",e}({});function d(e){let{fromAge:t,toAge:l}=e;return n().createElement("div",{className:m.policiesTableHead},function(e,t){let l=null;l=0===e&&0===t?n().createElement(r.Trans,{tag:"m_loc_core_beds_age_range_zero",variables:{age_range:1},num_exception:1}):e===_.ADULT&&t===_.ADULT?n().createElement(n().Fragment,null,n().createElement(r.Trans,{tag:"m_loc_core_children_accommodation_8"}),"\xa0",n().createElement("span",{"data-testid":"adult-only"},"(",n().createElement(r.Trans,{tag:"m_loc_core_beds_age_years",variables:{age:18},num_exception:18}),")")):e===t?n().createElement(r.Trans,{tag:"m_loc_core_beds_age_range",variables:{age_range:t},num_exception:t}):t===_.ADULT?n().createElement(r.Trans,{tag:"m_loc_core_beds_age_years",variables:{age:e},num_exception:e}):n().createElement(r.Trans,{tag:"loc_core_beds_age_min_max",variables:{age_min:e,age_max:t},num_exception:t});return l}(t,l))}function E(e){let t,{rule:l,toAge:a}=e;const d=l.priceType===p.PERCENTAGE?100*Number(l.price)+"%":l.localizedPrice;return t=l.priceType===p.FREE?n().createElement(c.Text,{variant:"emphasized_2",className:m.freeText},n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_price_mode_free"})):l.priceMode===s.PER_STAY?n().createElement(c.Text,null,n().createElement(r.Trans,{tag:"m_loc_core_beds_per_stay",variables:{amount_with_currency:d}})):a<_.MAX_CHILD_AGE?n().createElement(c.Text,null,n().createElement(r.Trans,{tag:"m_loc_core_beds_pcpn",variables:{amount_with_currency:d}})):n().createElement(c.Text,null,n().createElement(r.Trans,{tag:"m_loc_core_beds_pppn",variables:{amount_with_currency:d}})),n().createElement("div",{className:m.policiesTableRow},n().createElement("span",{className:m.ages},n().createElement(c.Icon,{svg:l.ruleType===u.CRIB?n().createElement(o.Z,null):n().createElement(i.Z,null),size:"medium"}),n().createElement("span",{className:m.headerText},l.ruleType===u.CRIB?n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_cot_request",variables:{start_bold:"",end_bold:""}}):n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_bed_request",variables:{start_bold:"",end_bold:""}}))),n().createElement("span",{className:m.prices},t))}var b=e=>{let{childPolicyRuleIntervals:t}=e;return t.length?n().createElement(n().Fragment,null,t.map((e=>function(e,t,l){if(l.length)return n().createElement("div",{className:m.policiesTableGroup,key:parseInt([t,e].join(""))},n().createElement(d,{fromAge:e,toAge:t}),l.map(((l,a)=>n().createElement(E,{key:parseInt([a,t,e,l.price].join("")),rule:l,toAge:t}))));return null}(e.fromAge,e.toAge,e.rulesByType)))):null},v="f512be180a",g="c64ba425c8";function h(e){let{allowChildren:t,minChildrenAge:l}=e,a=null;return a=t?l?n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policies_children_age_limit",variables:{num:l},num_exception:l})):n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policies_children_welcome"})):n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policies_children_not_welcome"})),a}function f(e){let{ageConsideredAsAdult:t}=e;return t>0?n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_children_adult_rate",variables:{num:t},num_exception:t})):null}function T(e){let{userIsFamily:t,context:l,ageConsideredAsAdult:a,isFlexibleChildRates:c}=e,o=null;return"hp"===l?o=t?a>0&&!c?n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_children_occupancy_warning",variables:{num:a},num_exception:a})):n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policies_check_children"})):n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policies_add_children"})):"bp"===l&&(o=t?n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_bp_policies_check_children"})):n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_bp_policies_add_children"}))),o}var y=e=>{let{userIsFamily:t=!1,context:l="hp",allowChildren:a,minChildrenAge:c,ageConsideredAsAdult:o,isFlexibleChildRates:i}=e;return n().createElement("div",{className:g},n().createElement("h2",{className:v},n().createElement(r.Trans,{tag:"fam_pp_policy_children_general_header"})),n().createElement(h,{allowChildren:a,minChildrenAge:c}),a&&n().createElement(n().Fragment,null,!i&&n().createElement(f,{ageConsideredAsAdult:o}),n().createElement(T,{userIsFamily:t,context:l,ageConsideredAsAdult:o,isFlexibleChildRates:i})))};function x(e){let{context:t,hasSomePaidCebRules:l,isRoomLevel:a,roomOptions:c}=e;return n().createElement("div",null,l&&n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_both_price"})),a?n().createElement(n().Fragment,null,n().createElement(R,{numCribs:(null===c||void 0===c?void 0:c.numCribs)||0,numExtraBeds:(null===c||void 0===c?void 0:c.numExtraBeds)||0,allowCribAndExtraBed:(null===c||void 0===c?void 0:c.allowCribAndExtraBed)||!1}),"hp"===t&&n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_rc_policy_request"}))):n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_both_rule"})),n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_both_avail"})))}function A(e){let{context:t,hasSomePaidCebRules:l,isRoomLevel:a,roomOptions:c}=e;return n().createElement("div",null,l&&n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_cot_price"})),a?n().createElement(n().Fragment,null,n().createElement(R,{numCribs:(null===c||void 0===c?void 0:c.numCribs)||0}),"hp"===t&&n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_rc_policy_request"}))):n().createElement(n().Fragment,null,n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_cot_rule"})),n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_cot_nobed"}))),n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_cot_avail"})))}function C(e){let{context:t,hasSomePaidCebRules:l,isRoomLevel:a,roomOptions:c}=e;return n().createElement("div",null,l&&n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_bed_price"})),a?n().createElement(n().Fragment,null,n().createElement(R,{numExtraBeds:(null===c||void 0===c?void 0:c.numExtraBeds)||0}),"hp"===t&&n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_rc_policy_request"}))):n().createElement(n().Fragment,null,n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_bed_rule"})),n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_bed_nocot"}))),n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_bed_avail"})))}function R(e){let{numCribs:t,numExtraBeds:l,allowCribAndExtraBed:a}=e,c=null;return t&&l?c=a?n().createElement("p",null,n().createElement("span",null,n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_room_crib_and_extra_bed",variables:{num_cot:t},num_exception:t})),n().createElement("span",null,n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_room_crib_and_extra_bed_request",variables:{num_bed:l},num_exception:l}))):n().createElement("p",null,n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_room_crib_or_extra_bed",variables:{num_cot:t},num_exception:t}),n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_room_crib_or_extra_bed_request",variables:{num_bed:l},num_exception:l})):t?c=n().createElement(n().Fragment,null,n().createElement("p",null,n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_room_crib_only",variables:{num_cot:t},num_exception:t})),n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_cot_nobed"}))):l&&(c=n().createElement(n().Fragment,null,n().createElement("p",null,n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_room_extra_bed_only",variables:{num_bed:l},num_exception:l})),n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_bed_nocot"})))),c}var P=e=>{let{isRoomLevel:t=!1,context:l="hp",childPolicies:a,isTpiExclusiveProperty:c}=e,o=!1;(a.childPolicyRuleIntervals||[]).forEach((e=>{o||(o=Boolean((e.rulesByType||[]).find((e=>Number(e.price)>0))))}));let i=null;var m,_;a.allowCribs||a.allowExtraBeds?a.allowCribs&&a.allowExtraBeds?i=n().createElement(x,{context:l,hasSomePaidCebRules:o,isRoomLevel:t,roomOptions:a.roomOptions}):a.allowCribs&&!a.allowExtraBeds?i=n().createElement(A,{context:l,hasSomePaidCebRules:o,isRoomLevel:t,roomOptions:a.roomOptions}):!a.allowCribs&&a.allowExtraBeds&&(i=n().createElement(C,{context:l,hasSomePaidCebRules:o,isRoomLevel:t,roomOptions:a.roomOptions})):c?i=n().createElement("p",null,n().createElement(r.Trans,{tag:"tpi_hotel_page_policy_cribs_bed_exclusive_hotel_des"})):t&&null!==a&&void 0!==a&&a.roomOptions&&0===(null===a||void 0===a||null===(m=a.roomOptions)||void 0===m?void 0:m.numCribs)&&0===(null===a||void 0===a||null===(_=a.roomOptions)||void 0===_?void 0:_.numExtraBeds)?i=n().createElement("p",null,n().createElement(r.Trans,{tag:"famex_m_hp_cpv2_room_no_crib_or_extra_bed"})):t||a.allowCribs||a.allowExtraBeds||(i=n().createElement("p",null,n().createElement(r.Trans,{tag:"fam_pp_policy_ceb_none"})));return i};var w=e=>{let{userIsFamily:t=!1,isRoomLevel:l=!1,context:a="hp",childPolicies:c,isTpiExclusiveProperty:o}=e;return n().createElement("div",{"data-test-id":"child-policies-block"},n().createElement(y,{userIsFamily:t,context:a,allowChildren:c.allowChildren,minChildrenAge:c.minChildrenAge,ageConsideredAsAdult:c.ageConsideredAsAdult,isFlexibleChildRates:c.isFCR}),n().createElement("h2",{className:v},n().createElement(r.Trans,{tag:"fam_pp_policy_children_cotbed_header"})),n().createElement(b,{childPolicyRuleIntervals:c.childPolicyRuleIntervals}),n().createElement(P,{isRoomLevel:l,context:a,childPolicies:c,isTpiExclusiveProperty:o}))},B=l("dc6d28ff"),I=l("41c6c66e"),F=l("a8619b3d");var O=e=>{if(null!==e&&void 0!==e&&e.propertyFullExtended){var t;const l=(0,B.getRequestContext)(),a=e.propertyFullExtended.childAndBedPolicy;if(!a)return(0,I.reportWarning)("PropertyPage: Failed to get child policy data."),null;const n=function(e){if(!e.length)return[];const t=e.filter((e=>"EXISTING_BED"!==e.ruleType));if(!t.length)return[];const l=t.reduce(((e,t)=>e.concat([[t.ageFrom,"add",t],[t.ageTo+1,"remove",t]])),[]);l.sort((function(e,t){return e[0]-t[0]}));const a=new Set,n=[];let r=l[0][0]-1;return l.forEach((e=>{r<e[0]&&(a.size>0&&n.push({fromAge:r,toAge:e[0]-1,rulesByType:[...a]}),r=e[0]),"add"===e[1]?a.add(e[2]):a.delete(e[2])})),n}(a.childPolicyRules),r=function(e){let t,l=0;return e.forEach((e=>{"EXISTING_BED"===e.ruleType&&e.ageTo>l&&(l=e.ageTo)})),t=255===l?18:0===l?0:l+1,t}(a.childPolicyRules),c=Object.assign({allowChildren:void 0,allowCribs:void 0,allowExtraBeds:void 0,allowExistingBeds:void 0,isFCR:void 0,roomOptions:void 0,minChildrenAge:void 0},a,{ageConsideredAsAdult:r,childPolicyRuleIntervals:n}),o=null===(t=e.propertyFullExtended.bookingHomeFlags)||void 0===t?void 0:t.isSUP,i=(0,F.K0)().nbChildren>0;return"WWW"!==l.getSiteType()&&"MDOT"!==l.getSiteType()&&(0,I.reportWarning)("PropertyPage: Invalid SiteType for child policies component."),{childAndBedPolicies:c,userIsFamily:i,propertyIsSingleUnit:o}}return null},D=l("d13db686"),L=l("d16c4768");var N=function(){const e=(0,L.Z)(),t=O(e),l=(0,D.Z)(e);return t?n().createElement(w,{userIsFamily:t.userIsFamily,isRoomLevel:!1,context:"hp",childPolicies:t.childAndBedPolicies,isTpiExclusiveProperty:l}):null}},d16c4768:function(e,t,l){var a=l("ead71eb0"),n=l("700a074f");t.Z=()=>(0,a.useContext)(n.PPContext)}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/2b8df162.a99da705.chunk.js.map